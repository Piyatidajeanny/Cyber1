// import { cookies } from "next/headers";

// /* =========================================================
//  * Types & Constants
//  * ======================================================= */

// const COOKIE_NAME = "sut_case";

// type AuthMethod =
//   | "PASSWORD"
//   | "PIN"
//   | "OTP"
//   | "BIOMETRIC"
//   | "LOCATION"
//   | "MFA";

// const AUTH_METHODS: AuthMethod[] = [
//   "PASSWORD",
//   "PIN",
//   "OTP",
//   "BIOMETRIC",
//   "LOCATION",
//   "MFA",
// ];

// /* =========================================================
//  * Challenge Definitions
//  * ======================================================= */

// type Challenge = {
//   question: string;
//   example: string;
//   description: string;
// };

// const AUTH_CHALLENGES: Record<AuthMethod, Challenge> = {
//   PASSWORD: {
//     description: "üîë ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à : PASSWORD-L2",
//     example: "",
//     question: `
// ‡∏î‡πà‡∏≤‡∏ô : ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ô‡πÇ‡∏ô‡πâ‡∏ï‡∏ö‡∏∏‡πä‡∏Å (LEVEL 2)

// ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß: ‡πÇ‡∏ô‡πâ‡∏ï‡∏ö‡∏∏‡πä‡∏Å‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ö‡∏ö Custom Rule ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡πå‡∏ä‡∏≠‡∏ö "‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏≥‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏¢‡∏≤‡∏Å"

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ‡∏™‡πÇ‡∏°‡∏™‡∏£‡∏à‡∏≤‡∏Å ‡πÄ‡∏°‡∏∑‡∏≠‡∏á Manchester

// ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™:
// 1) ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©
// 2) ‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
// 3) ‡πÅ‡∏ó‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£:
//    a ‚Üí 4
//    e ‚Üí 3
//    o ‚Üí 0
// 4) ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:
//    parin + love + encoded_team

// üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

//   ‡∏ú‡∏¥‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß = ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
// `.trim(),
//   },

//   PIN: {
//     description: "üîë ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à : PIN CODE",
//     example: "999999",
//     question: `
// ‡∏î‡πà‡∏≤‡∏ô : ‡∏ï‡∏π‡πâ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£

// ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß: ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏π‡πâ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏•‡∏±‡∏ö‡∏°‡∏µ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡πÅ‡∏ö‡∏ö PIN 6 ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏°‡∏ó‡∏™.

// ‡∏™‡∏π‡∏ï‡∏£ PIN:  [‡∏ï‡∏∂‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ 2 ‡∏´‡∏•‡∏±‡∏Å] + [‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ì‡∏∞ 2 ‡∏´‡∏•‡∏±‡∏Å]+ [‡∏õ‡∏µ ‡∏û.‡∏®. ‡∏ó‡πâ‡∏≤‡∏¢ 2 ‡∏´‡∏•‡∏±‡∏Å]

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
// ‚ñ∏ ‡∏ï‡∏∂‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡∏•: 8 ‡∏ï‡∏∂‡∏Å (08)
// ‚ñ∏ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ì‡∏∞: 14
// ‚ñ∏ ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á ‡∏Ñ.‡∏®. 1990 ‚Üí ‡∏û.‡∏®. 2533

// üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì PIN ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏π‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡πÅ‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡πÄ‡∏Å‡∏£‡∏î
// `.trim(),
//   },

//   OTP: {
//     description: "üîë ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à : TIME-OTP",
//     example: "HHDDMM",
//     question: `
// ‡∏î‡πà‡∏≤‡∏ô : ‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå

// ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß: ‡∏£‡∏∞‡∏ö‡∏ö Time-based OTP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏∏‡∏Å‡∏ô‡∏≤‡∏ó‡∏µ

// ‡∏™‡∏π‡∏ï‡∏£ OTP:
// ‚ñ∏ HH = ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (24hr)
// ‚ñ∏ DD = ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
// ‚ñ∏ MM = ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô

// ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:
// ‚ñ∏ 7 ‡∏°.‡∏Ñ. 09:45 ‚Üí 090701
// ‚ñ∏ 25 ‡∏ò.‡∏Ñ. 15:30 ‚Üí 152512

// üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: ‡∏™‡∏£‡πâ‡∏≤‡∏á OTP ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
// `.trim(),
//   },

//   BIOMETRIC: {
//     description: "üîë ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à : BIOMETRIC",
//     example: "",
//     question: `
// ‡∏î‡πà‡∏≤‡∏ô : ‡∏™‡πÅ‡∏Å‡∏ô‡∏ï‡∏£‡∏≤‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå

// ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß: ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡πÅ‡∏Å‡∏ô‡πÉ‡∏ä‡πâ Visual Recognition

// ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ:
// ‚ñ∏ ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤
// ‚ñ∏ ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ä‡∏≤‡∏ï‡∏¥
// ‚ñ∏ ‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏ò‡∏á‡∏ä‡∏≤‡∏ï‡∏¥
// ‚ñ∏ ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏û‡∏£‡∏∞‡∏°‡∏´‡∏≤‡∏Å‡∏©‡∏±‡∏ï‡∏£‡∏¥‡∏¢‡πå

// üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: ‡∏ï‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå (‡πÑ‡∏ó‡∏¢ / ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)
// `.trim(),
//   },

//   LOCATION: {
//     description: "üîë ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à : GPS-LOCK",
//     example: "99.99,999.99",
//     question: `
// ‡∏î‡πà‡∏≤‡∏ô : ‡∏£‡∏∞‡∏ö‡∏ö GPS Lock

// ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß: ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏û‡∏¥‡∏Å‡∏±‡∏î ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏∏‡∏£‡∏ô‡∏≤‡∏£‡∏µ

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
// ‚ñ∏ ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏à.‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤
// ‚ñ∏ ‡∏†‡∏≤‡∏Ñ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô
// ‚ñ∏ ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏õ‡∏µ 1990

// ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: latitude,longitude (‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏° 2 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á)

// üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á ‡∏°‡∏ó‡∏™.
// `.trim(),
//   },

//   MFA: {
//     description: "üîë ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à : MULTI-FACTOR",
//     example: `{"year":"9999","buildings":"0","province":"province"}`,
//     question: `
// ‡∏î‡πà‡∏≤‡∏ô : ‡∏£‡∏∞‡∏ö‡∏ö Multi-Factor

// ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß: ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏´‡πâ‡∏≠‡∏á

// üìã ‡∏™‡∏£‡πâ‡∏≤‡∏á JSON:
// 1. year (‡∏Ñ.‡∏®. 4 ‡∏´‡∏•‡∏±‡∏Å)
// 2Ô∏è. buildings (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏∂‡∏Å)
// 3. province (lowercase, no space)

// üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á JSON
// `.trim(),
//   },
// };

// /* =========================================================
//  * API Handler
//  * ======================================================= */

// export async function POST() {
//   const cookieStore = await cookies();
//   const rawSession = cookieStore.get(COOKIE_NAME)?.value;

//   if (!rawSession) {
//     return Response.json({ ok: false, error: "NO_SESSION" }, { status: 401 });
//   }

//   let session: any;
//   try {
//     session = JSON.parse(rawSession);
//   } catch {
//     return Response.json({ ok: false, error: "BAD_SESSION" }, { status: 400 });
//   }

//   // üé≤ Random auth method
//   const method =
//     AUTH_METHODS[Math.floor(Math.random() * AUTH_METHODS.length)];

//   session.authMethod = method;
//   session.authAttempts = 0;

//   cookieStore.set(COOKIE_NAME, JSON.stringify(session), {
//     httpOnly: true,
//     path: "/",
//     sameSite: false,
//     secure: false,
//   });

//   const challenge = AUTH_CHALLENGES[method];

//   return Response.json({
//     ok: true,
//     method,
//     message: `üîê ‡∏ß‡∏¥‡∏ò‡∏µ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô: ${challenge.description}`,
//     question: challenge.question,
//     example: challenge.example,
//   });
// }
